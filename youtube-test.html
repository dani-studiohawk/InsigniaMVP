<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube API Test</title>
</head>
<body>
    <h1>YouTube API Test</h1>
    <div id="results"></div>

    <script>
        // Test the YouTube API directly
        const API_KEY = "AIzaSyB4SD81tuofGaQH9_awdE4DZVDEkXQxfOU";
        const resultsDiv = document.getElementById('results');

        async function testAPI() {
            resultsDiv.innerHTML = '<p>Testing YouTube API...</p>';

            try {
                // Test 1: Check if API key works with a simple endpoint
                const testUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&q=test&type=video&maxResults=1&key=${API_KEY}`;
                resultsDiv.innerHTML += '<p>Testing API key...</p>';

                const response = await fetch(testUrl);
                const data = await response.json();

                if (response.ok) {
                    resultsDiv.innerHTML += '<p style="color: green;">✅ API key works!</p>';
                    resultsDiv.innerHTML += `<p>Response: ${JSON.stringify(data, null, 2)}</p>`;
                } else {
                    resultsDiv.innerHTML += `<p style="color: red;">❌ API Error: ${data.error?.message || 'Unknown error'}</p>`;
                    resultsDiv.innerHTML += `<p>Status: ${response.status}</p>`;
                }

                // Test 2: Check playlist
                resultsDiv.innerHTML += '<p>Testing playlist...</p>';
                const playlistUrl = `https://www.googleapis.com/youtube/v3/playlists?part=snippet&id=PLLdxW--S_0h4zWBPwp-GO2FwzI2ArYYEr&key=${API_KEY}`;

                const playlistResponse = await fetch(playlistUrl);
                const playlistData = await playlistResponse.json();

                if (playlistResponse.ok) {
                    resultsDiv.innerHTML += '<p style="color: green;">✅ Playlist accessible!</p>';
                } else {
                    resultsDiv.innerHTML += `<p style="color: red;">❌ Playlist Error: ${playlistData.error?.message || 'Unknown error'}</p>`;
                }

            } catch (error) {
                resultsDiv.innerHTML += `<p style="color: red;">❌ Network Error: ${error.message}</p>`;
            }
        }

        // Run test when page loads
        testAPI();
    </script>
</body>
</html>
